import 'package:lucide_icons/lucide_icons.dart';
import '../models/widget_template.dart';

class FinanceTemplates {
  static final List<WidgetTemplate> templates = [
    // ============= PORTFOLIO MANAGEMENT (1-15) =============
    WidgetTemplate(
      id: 'fin_001',
      title: 'Portfolio Performance Dashboard',
      description: 'Track overall portfolio returns, asset allocation, and risk metrics',
      prompt: 'Create a comprehensive portfolio performance dashboard showing total value, daily/monthly/yearly returns, asset allocation pie chart, top gainers/losers, risk metrics (beta, sharpe ratio), and benchmark comparison against S&P 500',
      type: 'dashboard',
      icon: LucideIcons.pieChart,
      tags: ['portfolio', 'performance', 'returns', 'allocation'],
      category: 'Portfolio Management',
      usageCount: 2450,
    ),
    WidgetTemplate(
      id: 'fin_002',
      title: 'Asset Allocation Analyzer',
      description: 'Analyze and rebalance portfolio asset allocation',
      prompt: 'Build an asset allocation analyzer showing current allocation vs target allocation, rebalancing recommendations, geographic diversification, sector exposure, and correlation matrix between assets',
      type: 'chart',
      icon: LucideIcons.pieChart,
      tags: ['allocation', 'rebalancing', 'diversification'],
      category: 'Portfolio Management',
      usageCount: 1890,
    ),
    WidgetTemplate(
      id: 'fin_003',
      title: 'Risk Assessment Matrix',
      description: 'Comprehensive portfolio risk analysis and metrics',
      prompt: 'Design a risk assessment matrix displaying VaR (Value at Risk), standard deviation, beta coefficient, maximum drawdown, Sharpe ratio, Sortino ratio, and stress test scenarios',
      type: 'dashboard',
      icon: LucideIcons.alertTriangle,
      tags: ['risk', 'VaR', 'volatility', 'metrics'],
      category: 'Portfolio Management',
      usageCount: 1650,
    ),
    WidgetTemplate(
      id: 'fin_004',
      title: 'Holdings Tracker',
      description: 'Detailed view of all portfolio holdings and positions',
      prompt: 'Create a holdings tracker table with ticker symbols, company names, shares owned, average cost basis, current price, total value, unrealized P&L, percentage of portfolio, and 52-week high/low',
      type: 'table',
      icon: LucideIcons.list,
      tags: ['holdings', 'positions', 'stocks', 'tracking'],
      category: 'Portfolio Management',
      usageCount: 2100,
    ),
    WidgetTemplate(
      id: 'fin_005',
      title: 'Dividend Income Tracker',
      description: 'Monitor dividend income and yield across portfolio',
      prompt: 'Build a dividend income tracker showing monthly/quarterly/annual dividend income, yield on cost, forward yield, ex-dividend dates calendar, dividend growth rate, and DRIP calculations',
      type: 'dashboard',
      icon: LucideIcons.dollarSign,
      tags: ['dividends', 'income', 'yield', 'passive'],
      category: 'Portfolio Management',
      usageCount: 1780,
    ),
    
    // ============= TRADING & ANALYSIS (16-30) =============
    WidgetTemplate(
      id: 'fin_016',
      title: 'Technical Analysis Dashboard',
      description: 'Advanced technical indicators and chart patterns',
      prompt: 'Create a technical analysis dashboard with candlestick charts, moving averages (SMA, EMA), RSI, MACD, Bollinger Bands, volume indicators, support/resistance levels, and pattern recognition',
      type: 'chart',
      icon: LucideIcons.trendingUp,
      tags: ['technical', 'indicators', 'trading', 'charts'],
      category: 'Trading',
      usageCount: 3200,
    ),
    WidgetTemplate(
      id: 'fin_017',
      title: 'Options Chain Analyzer',
      description: 'Analyze options chains and strategies',
      prompt: 'Build an options chain analyzer displaying calls/puts, strike prices, bid/ask spreads, implied volatility, open interest, volume, Greeks (delta, gamma, theta, vega), and profit/loss diagrams',
      type: 'table',
      icon: LucideIcons.layers,
      tags: ['options', 'derivatives', 'trading', 'greeks'],
      category: 'Trading',
      usageCount: 1560,
    ),
    WidgetTemplate(
      id: 'fin_018',
      title: 'Day Trading Dashboard',
      description: 'Real-time monitoring for day trading activities',
      prompt: 'Design a day trading dashboard with real-time quotes, level 2 data, time & sales, VWAP, order book depth, hot keys setup, P&L tracker, and position sizing calculator',
      type: 'dashboard',
      icon: LucideIcons.zap,
      tags: ['daytrading', 'realtime', 'scalping'],
      category: 'Trading',
      usageCount: 2340,
    ),
    WidgetTemplate(
      id: 'fin_019',
      title: 'Forex Trading Terminal',
      description: 'Currency pair analysis and forex trading tools',
      prompt: 'Create a forex trading terminal showing major/minor/exotic pairs, pip calculator, margin requirements, swap rates, economic calendar integration, correlation matrix, and currency strength meter',
      type: 'dashboard',
      icon: LucideIcons.globe,
      tags: ['forex', 'currency', 'fx', 'trading'],
      category: 'Trading',
      usageCount: 1890,
    ),
    WidgetTemplate(
      id: 'fin_020',
      title: 'Crypto Trading Dashboard',
      description: 'Cryptocurrency trading and analysis platform',
      prompt: 'Build a crypto trading dashboard with price charts, order books, trade history, DeFi yields, gas fees tracker, whale alerts, fear & greed index, and on-chain metrics',
      type: 'dashboard',
      icon: LucideIcons.bitcoin,
      tags: ['crypto', 'bitcoin', 'ethereum', 'defi'],
      category: 'Trading',
      usageCount: 2670,
    ),
    
    // ============= FINANCIAL PLANNING (31-45) =============
    WidgetTemplate(
      id: 'fin_031',
      title: 'Retirement Planning Calculator',
      description: 'Comprehensive retirement savings and income projections',
      prompt: 'Create a retirement planning calculator with current savings, monthly contributions, expected returns, inflation adjustment, Social Security estimates, 401k/IRA projections, and Monte Carlo simulations',
      type: 'calculator',
      icon: LucideIcons.home,
      tags: ['retirement', '401k', 'planning', 'savings'],
      category: 'Financial Planning',
      usageCount: 3450,
    ),
    WidgetTemplate(
      id: 'fin_032',
      title: 'Budget Planner & Tracker',
      description: 'Personal budget management and expense tracking',
      prompt: 'Build a budget planner showing income sources, expense categories, fixed vs variable costs, savings rate, budget vs actual comparison, spending trends, and financial goals progress',
      type: 'dashboard',
      icon: LucideIcons.wallet,
      tags: ['budget', 'expenses', 'savings', 'personal'],
      category: 'Financial Planning',
      usageCount: 4100,
    ),
    WidgetTemplate(
      id: 'fin_033',
      title: 'Mortgage Calculator Suite',
      description: 'Complete mortgage analysis and comparison tools',
      prompt: 'Design a mortgage calculator suite with loan amortization schedule, refinance comparison, extra payment impact, ARM vs fixed rate analysis, closing costs breakdown, and rent vs buy calculator',
      type: 'calculator',
      icon: LucideIcons.home,
      tags: ['mortgage', 'real estate', 'loans', 'housing'],
      category: 'Financial Planning',
      usageCount: 2890,
    ),
    WidgetTemplate(
      id: 'fin_034',
      title: 'Tax Planning Dashboard',
      description: 'Tax estimation and optimization strategies',
      prompt: 'Create a tax planning dashboard with income tax calculator, deduction tracker, tax-loss harvesting opportunities, estimated quarterly payments, capital gains optimizer, and tax bracket analysis',
      type: 'dashboard',
      icon: LucideIcons.fileText,
      tags: ['taxes', 'deductions', 'planning', 'IRS'],
      category: 'Financial Planning',
      usageCount: 2340,
    ),
    WidgetTemplate(
      id: 'fin_035',
      title: 'Emergency Fund Calculator',
      description: 'Calculate and track emergency fund goals',
      prompt: 'Build an emergency fund calculator showing target amount (3-6 months expenses), current savings, monthly contribution needed, timeline to goal, and scenario planning for job loss or medical emergencies',
      type: 'calculator',
      icon: LucideIcons.shield,
      tags: ['emergency', 'savings', 'safety net'],
      category: 'Financial Planning',
      usageCount: 1980,
    ),
    
    // ============= BUSINESS FINANCE (46-60) =============
    WidgetTemplate(
      id: 'fin_046',
      title: 'Cash Flow Statement',
      description: 'Business cash flow analysis and projections',
      prompt: 'Create a cash flow statement showing operating activities, investing activities, financing activities, free cash flow, burn rate, runway calculation, and monthly/quarterly projections',
      type: 'report',
      icon: LucideIcons.trendingUp,
      tags: ['cashflow', 'business', 'accounting'],
      category: 'Business Finance',
      usageCount: 2560,
    ),
    WidgetTemplate(
      id: 'fin_047',
      title: 'P&L Statement Generator',
      description: 'Profit and loss statement with analysis',
      prompt: 'Build a P&L statement generator with revenue breakdown, COGS, gross margin, operating expenses, EBITDA, net income, YoY comparison, and margin analysis',
      type: 'report',
      icon: LucideIcons.fileText,
      tags: ['P&L', 'income', 'profit', 'accounting'],
      category: 'Business Finance',
      usageCount: 2890,
    ),
    WidgetTemplate(
      id: 'fin_048',
      title: 'Balance Sheet Analyzer',
      description: 'Company balance sheet with ratio analysis',
      prompt: 'Design a balance sheet analyzer displaying assets, liabilities, equity, working capital, current ratio, quick ratio, debt-to-equity, ROE, ROA, and trend analysis',
      type: 'report',
      icon: LucideIcons.scale,
      tags: ['balance sheet', 'assets', 'liabilities'],
      category: 'Business Finance',
      usageCount: 2100,
    ),
    WidgetTemplate(
      id: 'fin_049',
      title: 'Financial KPI Dashboard',
      description: 'Key financial metrics for business monitoring',
      prompt: 'Create a financial KPI dashboard with MRR/ARR, CAC, LTV, churn rate, gross margin, burn rate, runway, unit economics, and growth metrics with targets and alerts',
      type: 'dashboard',
      icon: LucideIcons.barChart3,
      tags: ['KPI', 'metrics', 'SaaS', 'startup'],
      category: 'Business Finance',
      usageCount: 3120,
    ),
    WidgetTemplate(
      id: 'fin_050',
      title: 'Invoice & AR Management',
      description: 'Accounts receivable tracking and aging',
      prompt: 'Build an invoice management system showing outstanding invoices, aging report (30/60/90 days), collection status, DSO calculation, payment reminders, and cash collection forecast',
      type: 'table',
      icon: LucideIcons.fileText,
      tags: ['invoices', 'AR', 'collections', 'receivables'],
      category: 'Business Finance',
      usageCount: 1870,
    ),
    
    // ============= INVESTMENT RESEARCH (61-75) =============
    WidgetTemplate(
      id: 'fin_061',
      title: 'Stock Screener Pro',
      description: 'Advanced stock screening with multiple filters',
      prompt: 'Create a stock screener with filters for market cap, P/E ratio, dividend yield, revenue growth, profit margins, debt levels, insider trading, analyst ratings, and technical indicators',
      type: 'table',
      icon: LucideIcons.search,
      tags: ['screening', 'stocks', 'research', 'filters'],
      category: 'Investment Research',
      usageCount: 3890,
    ),
    WidgetTemplate(
      id: 'fin_062',
      title: 'Fundamental Analysis Report',
      description: 'Comprehensive company fundamental analysis',
      prompt: 'Build a fundamental analysis report with financial statements summary, valuation metrics (P/E, P/B, EV/EBITDA), growth rates, profitability ratios, peer comparison, and DCF valuation model',
      type: 'report',
      icon: LucideIcons.fileSearch,
      tags: ['fundamental', 'valuation', 'analysis'],
      category: 'Investment Research',
      usageCount: 2670,
    ),
    WidgetTemplate(
      id: 'fin_063',
      title: 'Sector Rotation Matrix',
      description: 'Track sector performance and rotation strategies',
      prompt: 'Design a sector rotation matrix showing sector performance heatmap, relative strength, momentum indicators, economic cycle positioning, and sector allocation recommendations',
      type: 'chart',
      icon: LucideIcons.grid,
      tags: ['sectors', 'rotation', 'strategy'],
      category: 'Investment Research',
      usageCount: 1980,
    ),
    WidgetTemplate(
      id: 'fin_064',
      title: 'Earnings Calendar & Analysis',
      description: 'Track earnings releases and analyze results',
      prompt: 'Create an earnings calendar with upcoming releases, consensus estimates, historical beats/misses, revision trends, guidance tracking, and post-earnings price movements',
      type: 'calendar',
      icon: LucideIcons.calendar,
      tags: ['earnings', 'calendar', 'estimates'],
      category: 'Investment Research',
      usageCount: 2340,
    ),
    WidgetTemplate(
      id: 'fin_065',
      title: 'Economic Indicators Dashboard',
      description: 'Monitor key economic indicators and their impact',
      prompt: 'Build an economic indicators dashboard tracking GDP, inflation (CPI/PPI), unemployment, interest rates, consumer confidence, PMI, housing data, and their market impact analysis',
      type: 'dashboard',
      icon: LucideIcons.activity,
      tags: ['economic', 'macro', 'indicators'],
      category: 'Investment Research',
      usageCount: 2100,
    ),
    
    // ============= BANKING & CREDIT (76-90) =============
    WidgetTemplate(
      id: 'fin_076',
      title: 'Credit Score Tracker',
      description: 'Monitor and improve credit score',
      prompt: 'Create a credit score tracker showing current scores from all bureaus, factors affecting score, credit utilization, payment history, credit age, recent inquiries, and improvement recommendations',
      type: 'dashboard',
      icon: LucideIcons.creditCard,
      tags: ['credit', 'score', 'FICO', 'monitoring'],
      category: 'Banking & Credit',
      usageCount: 2890,
    ),
    WidgetTemplate(
      id: 'fin_077',
      title: 'Loan Comparison Calculator',
      description: 'Compare different loan options and terms',
      prompt: 'Build a loan comparison calculator for multiple loan offers, showing monthly payments, total interest, APR comparison, prepayment penalties, and amortization schedules side by side',
      type: 'calculator',
      icon: LucideIcons.calculator,
      tags: ['loans', 'comparison', 'interest', 'APR'],
      category: 'Banking & Credit',
      usageCount: 2450,
    ),
    WidgetTemplate(
      id: 'fin_078',
      title: 'Bank Account Aggregator',
      description: 'Aggregate and monitor multiple bank accounts',
      prompt: 'Design a bank account aggregator displaying all accounts balance, recent transactions, spending by category, automatic categorization, bill reminders, and low balance alerts',
      type: 'dashboard',
      icon: LucideIcons.building,
      tags: ['banking', 'accounts', 'aggregation'],
      category: 'Banking & Credit',
      usageCount: 1780,
    ),
    WidgetTemplate(
      id: 'fin_079',
      title: 'Credit Card Optimizer',
      description: 'Optimize credit card usage and rewards',
      prompt: 'Create a credit card optimizer showing best card for each purchase category, rewards tracking, annual fee analysis, signup bonus tracker, and utilization management',
      type: 'dashboard',
      icon: LucideIcons.creditCard,
      tags: ['credit cards', 'rewards', 'optimization'],
      category: 'Banking & Credit',
      usageCount: 1990,
    ),
    WidgetTemplate(
      id: 'fin_080',
      title: 'Debt Payoff Planner',
      description: 'Strategic debt elimination planning',
      prompt: 'Build a debt payoff planner with snowball vs avalanche methods, payoff timeline, interest savings calculator, extra payment scenarios, and visual progress tracking',
      type: 'calculator',
      icon: LucideIcons.target,
      tags: ['debt', 'payoff', 'planning', 'loans'],
      category: 'Banking & Credit',
      usageCount: 2560,
    ),
    
    // ============= REAL ESTATE (91-105) =============
    WidgetTemplate(
      id: 'fin_091',
      title: 'Rental Property Analyzer',
      description: 'Analyze rental property investment potential',
      prompt: 'Create a rental property analyzer calculating cap rate, cash-on-cash return, NOI, debt service coverage, 1% rule, 50% rule, break-even analysis, and ROI projections',
      type: 'calculator',
      icon: LucideIcons.home,
      tags: ['real estate', 'rental', 'investment'],
      category: 'Real Estate',
      usageCount: 2340,
    ),
    WidgetTemplate(
      id: 'fin_092',
      title: 'Property Portfolio Dashboard',
      description: 'Manage multiple investment properties',
      prompt: 'Build a property portfolio dashboard showing all properties performance, occupancy rates, rental income, expenses breakdown, maintenance schedule, and tenant management',
      type: 'dashboard',
      icon: LucideIcons.building2,
      tags: ['portfolio', 'properties', 'management'],
      category: 'Real Estate',
      usageCount: 1870,
    ),
    WidgetTemplate(
      id: 'fin_093',
      title: 'REIT Analysis Tool',
      description: 'Analyze and compare Real Estate Investment Trusts',
      prompt: 'Design a REIT analysis tool with FFO/AFFO metrics, dividend yield, payout ratio, occupancy rates, property types, geographic exposure, and peer comparison',
      type: 'dashboard',
      icon: LucideIcons.building,
      tags: ['REIT', 'dividends', 'real estate'],
      category: 'Real Estate',
      usageCount: 1560,
    ),
    WidgetTemplate(
      id: 'fin_094',
      title: 'House Flipping Calculator',
      description: 'Analyze house flipping project profitability',
      prompt: 'Create a house flipping calculator with purchase price, renovation costs, holding costs, ARV estimation, profit margin, ROI calculation, and timeline planning',
      type: 'calculator',
      icon: LucideIcons.hammer,
      tags: ['flipping', 'renovation', 'profit'],
      category: 'Real Estate',
      usageCount: 1780,
    ),
    WidgetTemplate(
      id: 'fin_095',
      title: 'Commercial Property Valuation',
      description: 'Value commercial real estate properties',
      prompt: 'Build a commercial property valuation tool using income approach, sales comparison, cost approach, DCF analysis, and sensitivity analysis for different scenarios',
      type: 'calculator',
      icon: LucideIcons.building2,
      tags: ['commercial', 'valuation', 'CRE'],
      category: 'Real Estate',
      usageCount: 1420,
    ),
    
    // ============= ALTERNATIVE INVESTMENTS (106-120) =============
    WidgetTemplate(
      id: 'fin_106',
      title: 'Commodity Trading Dashboard',
      description: 'Track and analyze commodity markets',
      prompt: 'Create a commodity trading dashboard for gold, silver, oil, agricultural products with futures curves, seasonality analysis, COT reports, and storage costs',
      type: 'dashboard',
      icon: LucideIcons.package,
      tags: ['commodities', 'futures', 'gold', 'oil'],
      category: 'Alternative Investments',
      usageCount: 1650,
    ),
    WidgetTemplate(
      id: 'fin_107',
      title: 'Private Equity Portfolio',
      description: 'Track private equity and venture capital investments',
      prompt: 'Build a private equity portfolio tracker with capital calls, distributions, IRR/MOIC calculations, J-curve visualization, and fund performance benchmarking',
      type: 'dashboard',
      icon: LucideIcons.briefcase,
      tags: ['PE', 'VC', 'private equity'],
      category: 'Alternative Investments',
      usageCount: 1340,
    ),
    WidgetTemplate(
      id: 'fin_108',
      title: 'Art & Collectibles Tracker',
      description: 'Manage alternative investments in art and collectibles',
      prompt: 'Design an art investment tracker with acquisition costs, current valuations, insurance values, authentication records, market comparables, and auction results',
      type: 'dashboard',
      icon: LucideIcons.palette,
      tags: ['art', 'collectibles', 'alternative'],
      category: 'Alternative Investments',
      usageCount: 890,
    ),
    WidgetTemplate(
      id: 'fin_109',
      title: 'Hedge Fund Analytics',
      description: 'Analyze hedge fund strategies and performance',
      prompt: 'Create hedge fund analytics showing strategy breakdown, alpha/beta analysis, correlation matrix, drawdown analysis, Sharpe/Sortino ratios, and peer comparison',
      type: 'dashboard',
      icon: LucideIcons.lineChart,
      tags: ['hedge fund', 'alpha', 'strategies'],
      category: 'Alternative Investments',
      usageCount: 1120,
    ),
    WidgetTemplate(
      id: 'fin_110',
      title: 'Precious Metals Portfolio',
      description: 'Track investments in gold, silver, and precious metals',
      prompt: 'Build a precious metals portfolio tracker with spot prices, premiums, storage allocation, dealer comparisons, and historical performance vs inflation',
      type: 'dashboard',
      icon: LucideIcons.coins,
      tags: ['gold', 'silver', 'metals', 'commodities'],
      category: 'Alternative Investments',
      usageCount: 1450,
    ),
    
    // ============= RISK MANAGEMENT (121-135) =============
    WidgetTemplate(
      id: 'fin_121',
      title: 'Value at Risk Calculator',
      description: 'Calculate portfolio VaR using multiple methods',
      prompt: 'Create a VaR calculator using historical simulation, parametric method, and Monte Carlo simulation, with confidence intervals, time horizons, and back-testing',
      type: 'calculator',
      icon: LucideIcons.alertTriangle,
      tags: ['VaR', 'risk', 'simulation'],
      category: 'Risk Management',
      usageCount: 1780,
    ),
    WidgetTemplate(
      id: 'fin_122',
      title: 'Stress Testing Framework',
      description: 'Stress test portfolio under various scenarios',
      prompt: 'Build a stress testing framework with historical scenarios (2008 crisis, COVID-19), hypothetical scenarios, sensitivity analysis, and recovery time estimates',
      type: 'dashboard',
      icon: LucideIcons.activity,
      tags: ['stress test', 'scenarios', 'crisis'],
      category: 'Risk Management',
      usageCount: 1560,
    ),
    WidgetTemplate(
      id: 'fin_123',
      title: 'Hedging Strategy Designer',
      description: 'Design and evaluate hedging strategies',
      prompt: 'Design a hedging strategy tool for options hedging, futures hedging, correlation analysis, hedge effectiveness testing, and cost-benefit analysis',
      type: 'calculator',
      icon: LucideIcons.shield,
      tags: ['hedging', 'derivatives', 'protection'],
      category: 'Risk Management',
      usageCount: 1340,
    ),
    WidgetTemplate(
      id: 'fin_124',
      title: 'Counterparty Risk Monitor',
      description: 'Monitor and assess counterparty credit risk',
      prompt: 'Create a counterparty risk monitor with credit ratings, exposure limits, collateral tracking, netting agreements, and early warning indicators',
      type: 'dashboard',
      icon: LucideIcons.users,
      tags: ['counterparty', 'credit risk', 'exposure'],
      category: 'Risk Management',
      usageCount: 980,
    ),
    WidgetTemplate(
      id: 'fin_125',
      title: 'Liquidity Risk Dashboard',
      description: 'Monitor portfolio liquidity and cash needs',
      prompt: 'Build a liquidity risk dashboard showing asset liquidity scores, cash ladder, funding requirements, liquidity coverage ratio, and stress liquidity scenarios',
      type: 'dashboard',
      icon: LucideIcons.droplet,
      tags: ['liquidity', 'cash', 'funding'],
      category: 'Risk Management',
      usageCount: 1120,
    ),
  ];
  
  // Get templates by category
  static List<WidgetTemplate> getByCategory(String category) {
    return templates.where((t) => t.category == category).toList();
  }
  
  // Get popular templates
  static List<WidgetTemplate> getPopular({int limit = 10}) {
    final sorted = List<WidgetTemplate>.from(templates)
      ..sort((a, b) => b.usageCount.compareTo(a.usageCount));
    return sorted.take(limit).toList();
  }
  
  // Get all categories
  static List<String> getCategories() {
    return templates.map((t) => t.category).toSet().toList()..sort();
  }
  
  // Search templates
  static List<WidgetTemplate> search(String query) {
    final q = query.toLowerCase();
    return templates.where((t) =>
      t.title.toLowerCase().contains(q) ||
      t.description.toLowerCase().contains(q) ||
      t.tags.any((tag) => tag.toLowerCase().contains(q))
    ).toList();
  }
}